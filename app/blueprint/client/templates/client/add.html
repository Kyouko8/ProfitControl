{% extends 'layout.html' %}

{% block title %} {{'Agregar' if mode == "add" else "Editar"}} Cliente {% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/workday/add.css') }}">
{% endblock %}


{% block sidenav_button %}
<ul class="left hide-on-large-only">
    {% if mode=="edit" %}
    <li><a href="{{url_for('client.details', token=client.token)}}" class="nav-back-button"><i class="material-icons">arrow_back</i></a></li>
    {% else %}
    <li><a href="{{url_for('client.view_list')}}" class="nav-back-button"><i class="material-icons">arrow_back</i></a></li>
    {% endif %}
</ul>
{% endblock sidenav_button %}

{% block content %}
<section>

    <div class="container">

        <div class="col l12 m12 s12">
            <h1 class="h1-size white-text uppercase-font">
                {{'Agregar' if mode == "add" else "Editar"}} Cliente
            </h1>
        </div>

        <div class="col l12 m12 s12">
            <div class="card background-2f border-radius-10">
                <form method="post">
                    {{ form.hidden_tag() }}
                    <div class="card-content">
                        <div class="row no-margin">
                        
                            <!-- NAME -->
                            <div class="input-field col s9 m10 l11">
                                {{ form.name.label }}
                                {{ form.name }}
                                {% for error in form.name.errors %}
                                <span class="msg-error">{{ error }}</span>
                                {% endfor %}
                            </div>

                            
                            <!-- SEARCH PRODUCT BTN -->
                            <div class="input-field col l1 m2 s3">
                                <a href="#" class="btn btn-block btn-flat white-text btn-search tooltipped no-margin" id="optional_fields_btn"
                                    data-position="bottom" data-tooltip="Mostrar campos opcionales"><i class="material-icons center">{% if not show_all_fields %}expand_more{% else %}expand_less{% endif %}</i></a>
                            </div>

                            <div id="form-optional-fields" {% if not show_all_fields %}class="no-display"{% endif %}>
                                <!-- DESCRIPTION -->
                                <div class="input-field col s12 m12">
                                    {{ form.description.label }}
                                    {{ form.description }}
                                    {% for error in form.description.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- PHONE_NUMBER -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.phone_number.label }}
                                    {{ form.phone_number }}
                                    {% for error in form.phone_number.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- TELEPHONE -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.telephone.label }}
                                    {{ form.telephone }}
                                    {% for error in form.telephone.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- PHONE_NUMBER_ALT -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.phone_number_alt.label }}
                                    {{ form.phone_number_alt }}
                                    {% for error in form.telephone_alt.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- TELEPHONE_ALT -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.telephone_alt.label }}
                                    {{ form.telephone_alt }}
                                    {% for error in form.telephone_alt.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- ADDRESS -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.address.label }}
                                    {{ form.address }}
                                    {% for error in form.address.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- LOCATION -->
                                <div class="input-field col l6 m6 s12">
                                    {{ form.location.label }}
                                    {{ form.location }}
                                    {% for error in form.location.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>

                                <!-- EMAIL -->
                                <div class="input-field col l12 m12 s12">
                                    {{ form.email.label }}
                                    {{ form.email }}
                                    {% for error in form.email.errors %}
                                    <span class="msg-error">{{ error }}</span>
                                    {% endfor %}
                                </div>
                                
                                <!-- NOTE -->
                                <div class="input-field col l12 m12 s12">
                                    {{ form.note.label }}
                                    {{ form.note(class="materialize-textarea white-text", rows=6, maxlength=2048) }} <br />
                                    {% for error in form.note.errors %}
                                    <span class="text-red">{{ error }}</span>
                                    {% endfor %}
                                </div> 
                            </div>

                        </div>
                    </div>

                    <div class="card-action border-radius-10">
                        <div class="row no-margin">

                            <div class="col l6 m6 s6">
                                {% if mode=="edit" %}
                                <a href="{{url_for('client.details', token=client.token, resume='true')}}" class="btn border-radius-5 btn-cancel">Cancelar</a>
                                {% else %}
                                <a href="{{url_for('client.view_list')}}" class="btn border-radius-5 btn-cancel">Cancelar</a>
                                {% endif %}
                            </div>

                            <div class="col l6 m6 s6 right-align">
                                <button type="submit" class="btn border-radius-5 btn-save" id="submit" name="submit">Guardar</button>
                            </div>
                        </div>    
                    </div>
                </form>
            </div>
        </div>
    </div>

</section>
{% endblock %}

{% block javascript %}
<script src="{{ url_for('static', filename='js/admin/client/add.js') }}"></script>
{% endblock %}